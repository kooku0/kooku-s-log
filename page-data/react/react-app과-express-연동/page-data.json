{"componentChunkName":"component---src-templates-blog-post-js","path":"/react/react-app과-express-연동/","result":{"data":{"site":{"siteMetadata":{"title":"Kooku's log","author":"Kooku","siteUrl":"https://kooku.netlify.com","comment":{"disqusShortName":"","utterances":"koomg9599/kooku-s-log"},"sponsor":{"buyMeACoffeeId":"kooku"}}},"markdownRemark":{"id":"7f994bfe-3bd8-5003-b3cd-81f58c64caa6","excerpt":"React App과 Express 연동 이제 막 공부를 시작해서 Express 과 React 를 연동하는 법을 google에서 찾아 시도하였지만, 원하는 내용이 아니였다.  마침 유튜브에서 원하는 내용을 찾았기에 이를 적어보고자 한다. Create React App with and Express Backend    최종 만들어지는 디렉터리 트리는 다음과 같다. 1 Back_end  먼저 backend를 구성해보자!  나 같은 초보자는 프레임워크에 필요한 package.json…","html":"<blockquote>\n<p>React App과 Express 연동</p>\n<p>이제 막 공부를 시작해서 Express 과 React 를 연동하는 법을 google에서 찾아 시도하였지만, 원하는 내용이 아니였다.  마침 유튜브에서 원하는 내용을 찾았기에 이를 적어보고자 한다.</p>\n<p><a href=\"https://www.youtube.com/watch?v=8bNlffXEcC0\">Create React App with and Express Backend</a>   </p>\n</blockquote>\n<p>최종 만들어지는 디렉터리 트리는 다음과 같다.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">:code\n│  \n├─client\n│  │  .gitignore\n│  │  package.json\n│  │  README.md\n│  │  yarn.lock\n│  │              \n│  ├─public\n│  │      favicon.ico\n│  │      index.html\n│  │      manifest.json\n│  │      \n│  └─src\n│          App.css\n│          App.js\n│          App.test.js\n│          index.css\n│          index.js\n│          logo.svg\n│          serviceWorker.js\n│          \n└─server\n    │  app.js\n    │  package-lock.json\n    │  package.json\n    │  \n    ├─bin\n    │      www\n    │              \n    ├─public\n    │  ├─images\n    │  ├─javascripts\n    │  └─stylesheets\n    │          style.css\n    │          \n    ├─routes\n    │      index.js\n    │      users.js\n    │      \n    └─views\n            error.jade\n            index.jade\n            layout.jade</code></pre></div>\n<h2 id=\"1-back_end\" style=\"position:relative;\"><a href=\"#1-back_end\" aria-label=\"1 back_end permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1 Back_end</h2>\n<p> 먼저 backend를 구성해보자!  나 같은 초보자는 프레임워크에 필요한 package.json을 만들어주고 기본 폴더 구조까지 잡아주는 패키지가 있다. 바로 Express-generator이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">$ <span class=\"token function\">npm</span> i express-generator\n$ express server</code></pre></div>\n<p>위와 같이하면, server라는 프로젝트가 만들어진다.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">$ <span class=\"token builtin class-name\">cd</span> server\n$ <span class=\"token function\">npm</span> <span class=\"token function\">install</span></code></pre></div>\n<p>server 폴더로 가서 필요한 모듈들을 설치해 준다. <em>package.json</em>에 필요한 모듈들이 적혀있기 때문에 쉽게 설치할 수 있다.</p>\n<p>그렇게 되면 다음과 같이 directory tree를 볼 수 있다. </p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">:server\n│  app.js\n│  package-lock.json\n│  package.json\n│  \n├─bin\n│      www\n│              \n├─public\n│  ├─images\n│  ├─javascripts\n│  └─stylesheets\n│          style.css\n│          \n├─routes\n│      index.js\n│      users.js\n│      \n└─views\n        error.pug\n        index.pug\n        layout.pug</code></pre></div>\n<p>해당 프로젝트를 실행시켜보자!</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">$ <span class=\"token function\">npm</span> start</code></pre></div>\n<p><a href=\"http://localhost:3000%EC%97%90%EC%84%9C\">http://localhost:3000에서</a> 작동이 잘 되는지 확인할 수 있다.</p>\n<p>mac에서는 다음과 같은 명령인수를 넣어 포트를 변경하였다.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">$ <span class=\"token assign-left variable\">PORT</span><span class=\"token operator\">=</span><span class=\"token number\">3001</span> <span class=\"token function\">npm</span> start</code></pre></div>\n<p>윈도우에서는 다음과 같으 명령어를 쓰면 된다던데.. 나는 안됨 ㅠㅠㅠ</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">$ <span class=\"token builtin class-name\">set</span> <span class=\"token assign-left variable\">PORT</span><span class=\"token operator\">=</span><span class=\"token number\">3001</span> <span class=\"token operator\">&amp;&amp;</span> node bin/www</code></pre></div>\n<p>그래서 결국 www 파일에서 코드를 바꾸기로 하였다.  </p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">//bin/www</span>\n\n<span class=\"token punctuation\">.</span>\n<span class=\"token punctuation\">.</span>\n<span class=\"token punctuation\">.</span>\n<span class=\"token keyword\">var</span> port <span class=\"token operator\">=</span> <span class=\"token function\">normalizePort</span><span class=\"token punctuation\">(</span>process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span><span class=\"token constant\">PORT</span> <span class=\"token operator\">||</span> <span class=\"token string\">'3001'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\napp<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token string\">'port'</span><span class=\"token punctuation\">,</span> port<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">.</span>\n<span class=\"token punctuation\">.</span>\n<span class=\"token punctuation\">.</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">onListening</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"listening port: \"</span><span class=\"token punctuation\">,</span>port<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">var</span> addr <span class=\"token operator\">=</span> server<span class=\"token punctuation\">.</span><span class=\"token function\">address</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">var</span> bind <span class=\"token operator\">=</span> <span class=\"token keyword\">typeof</span> addr <span class=\"token operator\">===</span> <span class=\"token string\">'string'</span>\n    <span class=\"token operator\">?</span> <span class=\"token string\">'pipe '</span> <span class=\"token operator\">+</span> addr\n    <span class=\"token operator\">:</span> <span class=\"token string\">'port '</span> <span class=\"token operator\">+</span> addr<span class=\"token punctuation\">.</span>port<span class=\"token punctuation\">;</span>\n  <span class=\"token function\">debug</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Listening on '</span> <span class=\"token operator\">+</span> bind<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>무슨 포트를 사용하고 있는지 알기 위하여  <code class=\"language-text\">onListening</code> 함수에 <em>‘console.log()’</em>를 추가하였다.</p>\n<p>3001번 port를 사용하는 이유는 front에서 3000번 포트를 사용할 것이기 때문에 포트를 겹치지 않게 하기 위해서이다.</p>\n<p>연동되는지 확인을 위하여 test를 위하여 파일을 조금 수정하도록 하겠다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">//routers/users.js</span>\n\n<span class=\"token keyword\">var</span> express <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'express'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> router <span class=\"token operator\">=</span> express<span class=\"token punctuation\">.</span><span class=\"token function\">Router</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">/* GET users listing. */</span>\nrouter<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">req<span class=\"token punctuation\">,</span> res<span class=\"token punctuation\">,</span> next</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  res<span class=\"token punctuation\">.</span><span class=\"token function\">json</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">{</span>id<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> username<span class=\"token operator\">:</span> <span class=\"token string\">\"somebody\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span>id<span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> username<span class=\"token operator\">:</span> <span class=\"token string\">\"somebody_else\"</span><span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nmodule<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> router<span class=\"token punctuation\">;</span></code></pre></div>\n<p>결과는 이렇게 나올 것이다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 584px;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 16.89189189189189%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAABJ0AAASdAHeZh94AAAAq0lEQVQI112OuW7DMBQE9f8fFSBFihSp0riQ7SgSrYOPlymSthxgTKhJkAUGWwyw2OalXXnrCu/qwevpyseQOKuZLzVxOH9zHEa6UdNNgtIOGwsm5h25psqKDr80n72nnVfaJXG4eE5LpJ80/bjUAYNaDBexDLMwGc8obu/ZBiREQrrh/9D4uPKz3biXjDOakhPO1SfW8tg2SimklDBGyLm+EtldCIGt+v95AmHu4uz6xDHQAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"users\"\n        title=\"users\"\n        src=\"/static/3b9efc11af6ba60b3762053c4303cffc/e05eb/users.png\"\n        srcset=\"/static/3b9efc11af6ba60b3762053c4303cffc/12f09/users.png 148w,\n/static/3b9efc11af6ba60b3762053c4303cffc/e4a3f/users.png 295w,\n/static/3b9efc11af6ba60b3762053c4303cffc/e05eb/users.png 584w\"\n        sizes=\"(max-width: 584px) 100vw, 584px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>이 값을 react App에 전송할 것이다.</p>\n<h2 id=\"2-front_end\" style=\"position:relative;\"><a href=\"#2-front_end\" aria-label=\"2 front_end permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2 Front_end</h2>\n<p>리엑트도 프로젝트를 일단 만들어 준다. client 폴더에 프로젝트를 만든다.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">$ <span class=\"token function\">npm</span> i -g create-react-app\n$ create-react-app client</code></pre></div>\n<p>프로젝트명은 <code class=\"language-text\">client</code>.</p>\n<p>다음으로 <code class=\"language-text\">package.json</code>에서 프록시(Proxy)키를 설정해 줘야한다. 이는 express와 react App이 서로 통신할 수 있는 역할을 할 것이다. </p>\n<blockquote>\n<p>프록시에 관한 설명은 다음을 참조하자. <a href=\"https://ko.wikipedia.org/wiki/%ED%94%84%EB%A1%9D%EC%8B%9C_%EC%84%9C%EB%B2%84\">프록시란?</a></p>\n<p>쉽게 말해서 중계 해주는 것이라고 생각하면 될 것 같다.</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token comment\">//client/package.json</span>\n\n<span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"client\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"version\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"0.1.0\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"private\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"dependencies\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"react\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^16.6.3\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"react-dom\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^16.6.3\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"react-scripts\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"2.1.1\"</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"scripts\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"start\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"react-scripts start\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"build\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"react-scripts build\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"test\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"react-scripts test\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"eject\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"react-scripts eject\"</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"eslintConfig\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"extends\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"react-app\"</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"browserslist\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token string\">\">0.2%\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"not dead\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"not ie &lt;= 11\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"not op_mini all\"</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"client\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"version\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"0.1.0\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"private\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"dependencies\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"react\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^16.6.3\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"react-dom\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^16.6.3\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"react-scripts\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"2.1.1\"</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"scripts\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"start\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"react-scripts start\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"build\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"react-scripts build\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"test\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"react-scripts test\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"eject\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"react-scripts eject\"</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"eslintConfig\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"extends\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"react-app\"</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"browserslist\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token string\">\">0.2%\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"not dead\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"not ie &lt;= 11\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"not op_mini all\"</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"proxy\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"http://localhost:3001\"</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><code class=\"language-text\">&quot;proxy&quot;: &quot;http://localhost:3001&quot;</code>를 추가한다.</p>\n<p>이제 react 프로젝트가 제대로 실행되는지 확인해 보자!</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 45.94594594594595%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABJ0AAASdAHeZh94AAABm0lEQVQoz1WRy07cQBBF/SHTfrTb7oef47EJiPAQCSwYsWLBiB0hgmgmIQkSYsEKVvxAsuNbL9U9Qw8srsrd7TpVdSsQXKAqWyhjINIUURiCkUKnCGw0wrC1i283D7ic3+J6cYvFn3v8tPp7j/nvO3z/cYPzy1+YXd0hiOMYUpfIioqA3AEtjDG2iiMkaY6Ia4SJBvMy/jvkht4NYvrHAWPqUhY1lDbIs8wpiiLXqQVm0sA0n2DqjaWqAdqMoYsJnQd3p1cKEgImqUDXtqhy4UChH3nVoZBQ5UBFJxR7p+74DPXesT+/aQnkKVIhVuMyP+4bMOaZT8hVg+H0Al+f/uPL4z/U+1NI1a6BPOFISMwuwPvG1hp9BNpkCzx6fnHQ5uCEdvAemNruMqQ0tvXTQmxUSkFQ15wn4EKtOzQddL+DnqDj6Qyq2YSkO1eMLAmEzJFpSZWlg7hlsNDFpZ9UgOfew/HwGZNhB11Psd9Gv7GLutvy/gZlUaCpa7RNg7odQ9CG7ZjLkT96aJM0RbvVavsQ5eYBdNX7NxtfAWRpE9sTXE9xAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"front_init\"\n        title=\"front_init\"\n        src=\"/static/7486a7c65a0513b994cd5cd0a57f84ec/fcda8/front_init.png\"\n        srcset=\"/static/7486a7c65a0513b994cd5cd0a57f84ec/12f09/front_init.png 148w,\n/static/7486a7c65a0513b994cd5cd0a57f84ec/e4a3f/front_init.png 295w,\n/static/7486a7c65a0513b994cd5cd0a57f84ec/fcda8/front_init.png 590w,\n/static/7486a7c65a0513b994cd5cd0a57f84ec/efc66/front_init.png 885w,\n/static/7486a7c65a0513b994cd5cd0a57f84ec/c83ae/front_init.png 1180w,\n/static/7486a7c65a0513b994cd5cd0a57f84ec/07d37/front_init.png 1790w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>굳! 굳! 지금까지는 순조롭다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">//client/src/App.js</span>\n\n<span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> Component <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> logo <span class=\"token keyword\">from</span> <span class=\"token string\">'./logo.svg'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token string\">'./App.css'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">App</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Component</span> <span class=\"token punctuation\">{</span>\n  state <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> users<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">componentDidMount</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    <span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/users'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">res</span> <span class=\"token operator\">=></span> res<span class=\"token punctuation\">.</span><span class=\"token function\">json</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">users</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> users <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n      <span class=\"token operator\">&lt;</span>div className<span class=\"token operator\">=</span><span class=\"token string\">\"App\"</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>h1<span class=\"token operator\">></span>Users<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>h1<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>ul<span class=\"token operator\">></span>\n          <span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>users<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">user</span> <span class=\"token operator\">=></span>\n            <span class=\"token operator\">&lt;</span>li key<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>user<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">}</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>user<span class=\"token punctuation\">.</span>username<span class=\"token punctuation\">}</span> <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>li<span class=\"token operator\">></span>\n          <span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>ul<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> App<span class=\"token punctuation\">;</span></code></pre></div>\n<p>App.js파일에서 코드를 수정한다. </p>\n<p>코드설명을 하자면</p>\n<p>fetch(‘/users’)코드로 인하여 react apps web back dev server가 package.json에 설정한 proxy를 통하여 request를 하게 되고, 값을 가지고 오게된다.</p>\n<p>server를 실행시킨후 react app을 실행시키면 다음과 같은 화면을 볼수있다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 34.45945945945946%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABJ0AAASdAHeZh94AAAA2klEQVQoz52OUW+CMBSF+///0962PbiXRUzGNlEqw2wTYZSKBYFvLUF0yRKNJ/na23NvTq+4l4YHy2NkuHvd8vyhCGTEPFzhLyRBFBPGn2x+ipHE8p3lPZtM9e9k6Ik4P+BYq9reNV9FTVqUbNWOROm+zvSevKz+UHVQA6YFtT/5ghs18zy86ZSVlHRtO/rCfkRnj9Yeju4CbsbJ91+YTJ54e5/TDIGuL4wxtGfGJfXBQ13VFUoVlLvyFKi1pmmaqwKPWzqlWUqwCFguQ+J1PC4lzoev1X+zR+8XSp4g0CEO46IAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"result\"\n        title=\"result\"\n        src=\"/static/dba59397bd8068ff240ff72e54aca705/fcda8/result.png\"\n        srcset=\"/static/dba59397bd8068ff240ff72e54aca705/12f09/result.png 148w,\n/static/dba59397bd8068ff240ff72e54aca705/e4a3f/result.png 295w,\n/static/dba59397bd8068ff240ff72e54aca705/fcda8/result.png 590w,\n/static/dba59397bd8068ff240ff72e54aca705/43142/result.png 599w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>성공!!!</p>\n<p>뿌듯하구먼</p>","frontmatter":{"title":"React App과 Express 연동","date":"June 23, 2019"}}},"pageContext":{"slug":"/react/react-app과-express-연동/","previous":{"fields":{"slug":"/Elasticsearch/elasticsearch-and-python/"},"frontmatter":{"title":"Elasticsearch and Python","category":"elasticsearch"}},"next":{"fields":{"slug":"/Elasticsearch/elasticsearch-and-node.js/"},"frontmatter":{"title":"Elasticsearch and Node.js","category":"elasticsearch"}}}}}