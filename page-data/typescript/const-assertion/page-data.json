{"componentChunkName":"component---src-templates-blog-post-js","path":"/typescript/const-assertion/","result":{"data":{"site":{"siteMetadata":{"title":"Kooku's log","author":"Kooku","siteUrl":"https://kooku.netlify.com","comment":{"disqusShortName":"","utterances":"koomg9599/kooku-s-log"},"sponsor":{"buyMeACoffeeId":"kooku"}}},"markdownRemark":{"id":"22d1dbe8-5462-5fe4-8550-461d78180f0c","excerpt":"타입스크립트 카테고리는 안만들려고 했지만ㅠㅠ 결국 만들게 되었다. 를 왜 쓰지? 라는 생각이 여기까지 왔다. 하나씩 차근차근 살펴보자! 이 내용도 다른분께서 정리해두셔서 옮겨 적어 보았다. TypeScript 3.4: const assertion :: Kim Seungha 타입 추론 Dynamically Typed Language vs Statically typed Language 먼저 동적 타입 과 정적 타입을 비교해보자. 이 둘의 차이는 다음과 같다. dynamically typed…","html":"<p>타입스크립트 카테고리는 안만들려고 했지만ㅠㅠ 결국 만들게 되었다.</p>\n<p><code class=\"language-text\">as const</code>를 왜 쓰지? 라는 생각이 여기까지 왔다.</p>\n<p>하나씩 차근차근 살펴보자!</p>\n<blockquote>\n<p>이 내용도 다른분께서 정리해두셔서 옮겨 적어 보았다.</p>\n<p><a href=\"https://medium.com/@seungha_kim_IT/typescript-3-4-const-assertion-b50a749dd53b\">TypeScript 3.4: const assertion :: Kim Seungha</a></p>\n</blockquote>\n<h1 id=\"타입-추론\" style=\"position:relative;\"><a href=\"#%ED%83%80%EC%9E%85-%EC%B6%94%EB%A1%A0\" aria-label=\"타입 추론 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>타입 추론</h1>\n<h2 id=\"dynamically-typed-language-vs-statically-typed-language\" style=\"position:relative;\"><a href=\"#dynamically-typed-language-vs-statically-typed-language\" aria-label=\"dynamically typed language vs statically typed language permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Dynamically Typed Language vs Statically typed Language</h2>\n<p>먼저 동적 타입 과 정적 타입을 비교해보자.</p>\n<p>이 둘의 차이는 다음과 같다.</p>\n<p><strong>dynamically typed language</strong>는 run-time 때 type checking &#x26; binding이 일어나고</p>\n<p><strong>statically typed language</strong>는 compile time 때 type checking &#x26; binding이 일어난다.</p>\n<p>TypeScript는 statically typed language이고, JavaScript는 dynamically typed language이다.</p>\n<h2 id=\"typescript의-타입-추론\" style=\"position:relative;\"><a href=\"#typescript%EC%9D%98-%ED%83%80%EC%9E%85-%EC%B6%94%EB%A1%A0\" aria-label=\"typescript의 타입 추론 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>TypeScript의 타입 추론</h2>\n<p>여기서 TypeScript는 조금 더 똑똑하여, 타입을 추론하여 자동으로 지정해준다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// 굳이 이렇게 적어주지 않아도</span>\n<span class=\"token keyword\">let</span> hello<span class=\"token operator\">:</span> string <span class=\"token operator\">=</span> <span class=\"token string\">'world'</span>\n\n<span class=\"token comment\">// 타입 추론이 되어, 아래와 같이 짧게 적어줄 수 있다.</span>\n<span class=\"token keyword\">let</span> hello <span class=\"token operator\">=</span> <span class=\"token string\">'world'</span></code></pre></div>\n<p>‘world’ 라는 문자열을 hello 변수에 대입했을때. TypeScript는 똑똑하게도 hello 변수가 string 타입이어야 한다는 사실을 알아차렸다.</p>\n<div align=\"center\"><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 201px;\">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 25.675675675675674%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABIUlEQVQY0y2R0U7CQBBF+QyDLey2222X0haWghQojQgImqAYow8++f8fcdwWH25mZic5uXe2NxgMaOX7PkIItI6JlCIKA9drAjHs5lsviKLI7dw+CLuqZIASsntvOb0W1AGdpJTEZky+OTOu9oztgsP3L/XLB6vjhfp0YZQYRpuK7LhjtF2Tnfdkp70D6huwg9338fp3SOcmDBRmssQUc+cqoayfsFXNZOlUbYljQ2Sn6HmJcTWtV+QO3ibogEMZom2DKtaoxLK+/jDfv1M+fzJpDsTK7V3kIolY54btrKCxOU2RoqVA+C6Z53fp2rS9gcuv7RaVPyDClPL1i+nujfzxSrY5oN1tZBCQqICdzZgZTZkZFqnG87zuVP7/H7QO/wD7xZbWlSaaBQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"type01\" title=\"type01\" src=\"/static/a9b4d92b10b88ad8885f3dd7cd29e049/2ef63/type01.png\" srcset=\"/static/a9b4d92b10b88ad8885f3dd7cd29e049/12f09/type01.png 148w,\n/static/a9b4d92b10b88ad8885f3dd7cd29e049/2ef63/type01.png 201w\" sizes=\"(max-width: 201px) 100vw, 201px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\">\n    </span></div>\n<div align=\"center\"><small>let 변수에 대한 타입 추론(문자열 리터럴)</small></div>\n<p>위 예제에서 let 대신 const 변수로 선언하면, 아래와 같이 string 대신에 ‘world’ 타입으로 추론된다.</p>\n<div align=\"center\"><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 241px;\">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 25.675675675675674%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABCUlEQVQY00WQ3W6CQBCFfYzWsuwuIrAsgvwWiDVRTDS9aJNe9f1f5OtCNV58mcnMzsk5u/J9nwdCiKVqrVHSX9BKIue98PA9b+mV0kil8OU/QkqUu5Gurp6CEuGqdCIm3ZFWA7YeSfKWfTfSHSf6843S9ZnNqHYZfVnw7jjUJUVmF9HV7Ep4a7z1C97b6+Ikio0THLHNgThvKNqB8fpFc7pRH05s3X4WnPqWodrz0ZSYxLhkwexQEpiSbXkkzAcC97j7/KW9fFNPP5isIAo3pBvFsXA7mzC18yzEc7eP6DoInpF1nLPJOidcocKIdLhg+zN2vLJNLEGgCR1DbrBRSJNGqMef3xF3/gCvU5MJafui1wAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"type02\" title=\"type02\" src=\"/static/8591464795e7c12fb151cd2efe4347b2/2f862/type02.png\" srcset=\"/static/8591464795e7c12fb151cd2efe4347b2/12f09/type02.png 148w,\n/static/8591464795e7c12fb151cd2efe4347b2/2f862/type02.png 241w\" sizes=\"(max-width: 241px) 100vw, 241px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\">\n    </span></div>\n<div align=\"center\"><small>const 변수에 대한 타입 추론(문자열 리터럴)</small></div>\n<p>TypeScript는 특정 문자열 자체를 타입으로 다룰 수 있게 해주는 string literal type을 지원합니다. 즉, 위와 같은 타입 정보는 hello 변수는 반드시 “world” 문자열이어야 하며, 다른 문자열이 될 수 없다는 사실을 나타냅니다.</p>\n<p>위에서 보신 바와 같이 변수를 let으로 선언하느냐, const로 선언하느냐에 따라 타입 추론의 규칙이 달라집니다. 이는 합리적인데, let 변수는 다른 값이 대입될 수 있고, const 변수에는 다른 값이 대입될 수 없기 때문입니다.</p>\n<h1 id=\"const-assertion\" style=\"position:relative;\"><a href=\"#const-assertion\" aria-label=\"const assertion permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>const assertion</h1>\n<p>TypeScript 3.4에 추가된 const assertion 기능을 사용하면, let 변수에 대해서도 const 변수를 사용할 때와 같은 타입 추론 규칙을 적용할 수 있다.</p>\n<p>const assertion을 적용하려면, ‘const’ 라는 키워드로 타입 단언을 하면 됩니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">let</span> hello <span class=\"token operator\">=</span> <span class=\"token string\">'world'</span> <span class=\"token keyword\">as</span> <span class=\"token keyword\">const</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ts, tsx 파일에서</span>\n<span class=\"token keyword\">let</span> hello <span class=\"token operator\">=</span> <span class=\"token operator\">&lt;</span><span class=\"token keyword\">const</span><span class=\"token operator\">></span><span class=\"token string\">'world'</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ts 파일에서</span></code></pre></div>\n<p>타입 추론이 어떻게 되었는지 볼까요?</p>\n<div align=\"center\"><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 232px;\">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 25.675675675675674%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABG0lEQVQY0y2P3U6DQBSEeQyjBXaXn4WFLqWUQtPagjWaNNErvfP9X+PzFL04OZk5M5M5QRRFhGFIFMcYY9BKttYowbHwd6xEs9y0EZ1CyT1WGr1w+s8vmvsES6CMEmPhatbjTLkZ6E8zx7cP+vOV4fKKcxX7jWfad4xtwzzsBDeYJJOg+D8wJAjDFavHB2kUkSYprjuRO4/f9ozXG7vjRHucSfOC0hZMEtT5WsJqwRYjRe7+8OlxKRYY12L7GW1rxs8fhtsX/fs3VbsnSzR5knDZOM7bNZeuoXM5ZV5z8AOprbDdmWz7TOoPRFIuUFlJUm2JTYYbX6jGadlZ1ZCmyfLOvi7wNmVT5FijyExOaz1KPEa8SdVhCr+8/Aug/5SR1pO1sAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"type03\" title=\"type03\" src=\"/static/f43ebc770d35ba939dbed7ecfdd9bc0d/6a451/type03.png\" srcset=\"/static/f43ebc770d35ba939dbed7ecfdd9bc0d/12f09/type03.png 148w,\n/static/f43ebc770d35ba939dbed7ecfdd9bc0d/6a451/type03.png 232w\" sizes=\"(max-width: 232px) 100vw, 232px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\">\n    </span></div>\n<div align=\"center\"><small>let 변수에 대한 const assertion</small></div>\n<p>hello를 let 변수로 선언했음에도, <strong>마치 const 변수로 선언한 것처럼</strong> “world” 타입으로 추론되었습니다. 위의 경우, hello 변수에 “world” 이외의 다른 값을 대입하려고 하면 컴파일 타임 에러가 난다.</p>\n<h1 id=\"객체에-대한-const-assertion\" style=\"position:relative;\"><a href=\"#%EA%B0%9D%EC%B2%B4%EC%97%90-%EB%8C%80%ED%95%9C-const-assertion\" aria-label=\"객체에 대한 const assertion permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>객체에 대한 const assertion</h1>\n<p>이렇게 별 쓸모 없어 보이는 기능이 왜 추가된 걸까요?</p>\n<p>이번에는 const 변수에 객체를 대입해서, 타입 추론이 어떻게 되는지 보겠습니다.</p>\n<div align=\"center\"><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 246px;\">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 82.43243243243244%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACjElEQVQ4y4WTW2/aQBCF+RdNwMY2vq+xF99xjIlLIIGEJk1bFdFUqtSnVor6/99OZxfS5tLQh9Haa/vbc86MO/1+H6JUVZWr7bgI8lPw6RX8tAGLEkzXnzBZ3WL59Qdmt3dYf7tHs/qAdv0Z7fUGfBSjqk5gWRY6z4GWZUuoaZpIxg2q+SXy6VyuaVHBDUNEsxZ+kSE8axHlGRzLgeN6B4C2A3NggucVxmcrAp5hsrxBQvdOEICdlPCyBOFyjrip4dL74pvDQNNClJZobzYEe4/idCGhYcjhVwVBx2B1hWi1wChJ5XevAi1xGgFZOML06iNqAo1nS2R1C8YCApZg42IHnLcIOYf9ArhfhTqRh1AY8Fg2pL64RrVYI2tmEuhRbn6ewi9zcLLN4+SvQqFMVRWoSk+ujm0jzzJSaMocddrT6ZlGJa7FQRbtm8ZAlmWYEuZQI3cKNR3awIZuudDo4TApEFN3g1EOxlO5hmlF+yXCvIYXDCXAJ6Wu60pH0tV+MjqGO4STzeGPl1ANB/z0EtnVFtXtdzSbn2i295h8+YV0tUVzd4+wrOF7Hs0eJwc6FIWyly531dF1TdrVdAPxdAF+MgOfLJC0F9BMF3HA0OYJbHMA4UZVd1lrmvakmQ9FQH13oxkIyBoja1H9FhEp6VNGjqEhYw48m7IzDVKk/AE9wB5D90BVKoxqGuCbLfy4xKhpwesZAXrIQ4YioNCpYeojNQcVqpTFkEIvzq/JOv0BkxlsFkGjw2LmIfXF3zN4AXheHcMwZB7ixZC6W5y/k8pGZNvjGRQaFQEUtnt7uweBQ5pyMT8iG6V7jO7RG/SOj9ClUnpd+ZIAdf+R3asKn2Qhu/dQTzP6n11RvwGuQ9ru2aAQbwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"type04\" title=\"type04\" src=\"/static/c0911f89b3891356862838755d456c69/92252/type04.png\" srcset=\"/static/c0911f89b3891356862838755d456c69/12f09/type04.png 148w,\n/static/c0911f89b3891356862838755d456c69/92252/type04.png 246w\" sizes=\"(max-width: 246px) 100vw, 246px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\">\n    </span></div>\n<div align=\"center\"><small>const 객체에 대한 타입추론</small></div>\n<p>모든 속성이 string으로 정의되어 있습니다.</p>\n<p>따라서 다음과 같이 value로 int값을 넣으면 에러가 발생합니다. 대신 string을 대입하게 되면 에러가 나지 않죠.</p>\n<div align=\"center\"><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 442px;\">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 41.891891891891895%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABQklEQVQoz4WS61KDMBCFeRUg3EIICaTlThGsVKfT8Y+j7/8ixyRt1bFT/fFld3M5k7OJQ8IIMVeIU458U0PWPYqqh9SwXCKJExASIAgCG+9h1j3Ph0MCLcgEymFBv56ghhnyYUG53yPLBaIovhwI73Jd930taAZCCOr5gHZ/hFAVQsmRzgPYRoF45E+xG0Fz1VDb3k5PaLSg3DaIpUA6dshqLf7P7W4EaZqC6CIMY0SXfl3xDT75rnVuMIdNv3634ixIKfquBWcMPGOQsoBSGxvbtsMwDChLBSEkmqb9yvv+PE9piqIo7H7j1omZhKgfQdWEpBjtpmm3w24cscwLZs26HlBVFTjPkeuHyjJuBUzNWGZrg2mdI9oZzcsHmud3zRvq5agf54RufYXU3yhlFIl2Yey5rmetGmue9zM/R9d18QltgPN2Mj4uQAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"type05\" title=\"type05\" src=\"/static/95cfe2752b2af6e905e01a20885e4978/e03bf/type05.png\" srcset=\"/static/95cfe2752b2af6e905e01a20885e4978/12f09/type05.png 148w,\n/static/95cfe2752b2af6e905e01a20885e4978/e4a3f/type05.png 295w,\n/static/95cfe2752b2af6e905e01a20885e4978/e03bf/type05.png 442w\" sizes=\"(max-width: 442px) 100vw, 442px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\">\n    </span></div>\n<div align=\"center\"><small>const 객체에 value 변경</small></div>\n<p>객체 const에서 value값들을 변경하는건 아마 개발자가 의도하진 않을겁니다.</p>\n<p>그러면 속성값들을 변경할 수 없게 만들어 보겠습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// 하나의 속성에 대한 const assertion</span>\n<span class=\"token keyword\">const</span> OlanguageCode <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    korean<span class=\"token operator\">:</span> <span class=\"token string\">'ko'</span> <span class=\"token keyword\">as</span> <span class=\"token keyword\">const</span><span class=\"token punctuation\">,</span>\n    english<span class=\"token operator\">:</span> <span class=\"token string\">'en'</span><span class=\"token punctuation\">,</span>\n    japanes<span class=\"token operator\">:</span> <span class=\"token string\">'ja'</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token comment\">// 모든 속성에 대한 const assertion</span>\n<span class=\"token keyword\">const</span> OlanguageCode <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    korean<span class=\"token operator\">:</span> <span class=\"token string\">'ko'</span><span class=\"token punctuation\">,</span>\n    english<span class=\"token operator\">:</span> <span class=\"token string\">'en'</span><span class=\"token punctuation\">,</span>\n    japanes<span class=\"token operator\">:</span> <span class=\"token string\">'ja'</span>\n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">as</span> <span class=\"token keyword\">const</span></code></pre></div>\n<div align=\"center\"><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 290px;\">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 70.27027027027026%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACXUlEQVQ4y42T6W7bMBCE/RZtYt2iDlISdVmSLzm2FduJExcN0hYt+q/v/w7TJV0EheEG/bEQoYU+zsyuRpZlQZVpmnAdB2HMESUSEU/BUwlZtUhkCZHlSPNKl3onqMe5QBTFYEGAMAzh+z5Gl0AuJ8imA0S9hGxmmO8/YfPyE6vTV+y//8J894z+6RVtv8WkqiBEgpCAQRCCMXYBdF3d8D0PkZBImjtksx2SboM4b9De7XQpaD1bIYlCbLoaVa7UJvA8/zqQsYBsF0gmSwIOSAnIiw7VrCfFJ3SbB8yGR/AkRZ2l6MocuczJMvsXkBGQMmvXkIs9RbDVCitStXr+gulwJOARnOwq4KIuIDN5adkiIFmNuIYqYNL0pPCeFK4RU7bltEd/fMF0+4jp5oCYhiKFOANJoQaapgFzfEN1C9u2UObU8Fy4dHYtA55+mvBJvbLk0aU+ZaXq7IYyZ38NxXZ9eKKCE6bweYZmeEa+3KNcHVCsn+h8wOT+BDm7Q0wrkpG1gKaq4GpNzsV0qchGjh/BT1uwrENctijvP6N++Ibm8Ir+9APtcEK5fYJoV3qtYh5rJyrzazVybBvG7Qf4UYpqtUHR71AsBt0smY068uCQ9fHNR/3OMCiiP7lfq5FDt1qUkVJaEmyyPdB0F7TYHWzqNSlHxiM6uxp4/tDUQ7wKtEmhaYxhewHld0RDS1ssB5pqqa3Nc4EkZKTKhvUGfEehR6G6dHvAIsj5GjkNI6G8AvqXlZJSRGCuQ1bNt319FxhSyBmXmMSkiCUIqjU8XhFgrG3dUmaG+X8wVb8BisafRxboPQsAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"type06\" title=\"type06\" src=\"/static/4b831dc933944000731c10113c8f4e69/139a5/type06.png\" srcset=\"/static/4b831dc933944000731c10113c8f4e69/12f09/type06.png 148w,\n/static/4b831dc933944000731c10113c8f4e69/139a5/type06.png 290w\" sizes=\"(max-width: 290px) 100vw, 290px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\">\n    </span></div>\n<div align=\"center\"><small>객체 속성 cosnt assertion</small></div>\n<h1 id=\"const-assertion--discriminated-union\" style=\"position:relative;\"><a href=\"#const-assertion--discriminated-union\" aria-label=\"const assertion  discriminated union permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>const assertion + discriminated union</h1>\n<p>TypeScript에는 discriminated union이라는 기능이 있습니다. 이 기능을 통해 타입 추론의 범위를 좁혀줄 수 있습니다.</p>\n<p>아래 예제를 생각해봅시다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">const</span> circle <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">type</span><span class=\"token operator\">:</span> <span class=\"token string\">'circle'</span><span class=\"token punctuation\">,</span>\n  radius<span class=\"token operator\">:</span> <span class=\"token number\">10</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">const</span> square <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">type</span><span class=\"token operator\">:</span> <span class=\"token string\">'square'</span><span class=\"token punctuation\">,</span>\n  width<span class=\"token operator\">:</span> <span class=\"token number\">10</span><span class=\"token punctuation\">,</span>\n  height<span class=\"token operator\">:</span> <span class=\"token number\">20</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">type</span> Shape <span class=\"token operator\">=</span> <span class=\"token keyword\">typeof</span> circle <span class=\"token operator\">|</span> <span class=\"token keyword\">typeof</span> square\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">draw</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">shape<span class=\"token operator\">:</span> Shape</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>shape<span class=\"token punctuation\">.</span><span class=\"token keyword\">type</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">case</span> <span class=\"token string\">'circle'</span><span class=\"token operator\">:</span>\n      <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>shape<span class=\"token punctuation\">.</span>radius<span class=\"token punctuation\">)</span>\n      <span class=\"token keyword\">break</span>\n    <span class=\"token keyword\">case</span> <span class=\"token string\">'square'</span><span class=\"token operator\">:</span>\n      <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>shape<span class=\"token punctuation\">.</span>width<span class=\"token punctuation\">)</span>\n      <span class=\"token keyword\">break</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>JavaScript에서라면 크게 문제가 되지 않을 코드입니다. 하지만 TypeScript에선 컴파일이 되지 않습니다.</p>\n<div align=\"center\"><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;\">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 33.108108108108105%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAA/UlEQVQoz5WQS3LDIBBEOYcN+huEAIGVkpDsRNnk/lfqDNj5Z+PFq2aYqp7pYWVTo6gSLcq6hvUTpOpxOklIqf5F3ftt2/2BVbpHpyQa5VDKE5Z1w+u+Y1kitu2SNcaViJjnBSv1U30+T7DWYRx9xvuQlTkdMK8RPr5AWgs/PZHpM9btms2mVJM6N0LrIZsMg4Ex9tMw6QfMWPoII4J3UPSeLm9w806xNU29TQ8hUNRbxK678RWz/RnZmoAzmRmt0Ei6Dd2nrivw4xHHO4fDAZxzCMGzfuf3H9NmxOAsxeghBzK2I1raQAiBoigehpWCHlzkTfidNDU1k+mjxu9upsq+cDh6MQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"type07\" title=\"type07\" src=\"/static/1055b646cd05e216defc16c74c1f0901/fcda8/type07.png\" srcset=\"/static/1055b646cd05e216defc16c74c1f0901/12f09/type07.png 148w,\n/static/1055b646cd05e216defc16c74c1f0901/e4a3f/type07.png 295w,\n/static/1055b646cd05e216defc16c74c1f0901/fcda8/type07.png 590w,\n/static/1055b646cd05e216defc16c74c1f0901/a1792/type07.png 780w\" sizes=\"(max-width: 590px) 100vw, 590px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\">\n    </span></div>\n<div align=\"center\"><small>객체 내부의 문자열 리터럴에 대한 타입 추론이 이루어지지 않음</small></div>\n<p>이런 에러가 나는 이유는, shape.type의 값이 ‘circle’ 인지 확인되었음에도 불구하고 shape 변수의 타입이 [typeof circle]로 좁혀지지 않았기 때문입니다.</p>\n<p>이 때,</p>\n<ul>\n<li>각 객체의 type 속성에 const assertion을 적용하거나,</li>\n<li>두 객체에 통째로 const assertion을 적용하면,</li>\n</ul>\n<p>위에서 발생한 타입 에러가 해결됩니다.</p>","frontmatter":{"title":"const assertion","date":"March 05, 2020"}}},"pageContext":{"slug":"/typescript/const-assertion/","previous":{"fields":{"slug":"/react/hook을-한-문장으로-설명해줘/"},"frontmatter":{"title":"Hook을 한 문장으로 설명해줘","category":"react"}},"next":{"fields":{"slug":"/typescript/enum-vs-object/"},"frontmatter":{"title":"enum vs object","category":"typescript"}}}}}