{"componentChunkName":"component---src-templates-blog-post-js","path":"/security/디지털-서명-및-인증-프로토콜/","result":{"data":{"site":{"siteMetadata":{"title":"Kooku's log","author":"Kooku","siteUrl":"https://kooku.netlify.com","comment":{"disqusShortName":"","utterances":"koomg9599/kooku-s-log"},"sponsor":{"buyMeACoffeeId":"kooku"}}},"markdownRemark":{"id":"fdf2c6e6-fa03-5b63-b6c6-1ac18389cabd","excerpt":"수업시간에 배운 내용을 정리하였습니다. 많이 알려진 보안 프로토콜에는 대칭키(Symmetric key)암호 그리고 비대칭키(Asymmetric key)암호가 있습니다. 비대칭키 암호는 공개키암호라고도 부르는데요. 이 두가지를 자세하게 다루어 보겠습니다. Public Key Cryptography Asymmetric key cryptography는  private key , public key…","html":"<blockquote>\n<p> 수업시간에 배운 내용을 정리하였습니다.</p>\n</blockquote>\n<p>많이 알려진 보안 프로토콜에는 <strong>대칭키</strong>(Symmetric key)암호 그리고 <strong>비대칭키</strong>(Asymmetric key)암호가 있습니다. <em>비대칭키 암호</em>는 <strong>공개키암호</strong>라고도 부르는데요. 이 두가지를 자세하게 다루어 보겠습니다.</p>\n<h2 id=\"public-key-cryptography\" style=\"position:relative;\"><a href=\"#public-key-cryptography\" aria-label=\"public key cryptography permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Public Key Cryptography</h2>\n<p>Asymmetric key cryptography는  <em>private key</em> , <em>public key</em>  이렇게 두개의 키를 사용합니다.</p>\n<p>공개키 암호화를 사용하는 방법은 두가지인데요. 각각 알아보도록 하겠습니다.</p>\n<h3 id=\"1-pkc-encryption--decryption\" style=\"position:relative;\"><a href=\"#1-pkc-encryption--decryption\" aria-label=\"1 pkc encryption  decryption permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. PKC: Encryption / Decryption</h3>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;\">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 56.08108108108109%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAMBAgX/xAAWAQEBAQAAAAAAAAAAAAAAAAACAAH/2gAMAwEAAhADEAAAAduGryCox//EABgQAAIDAAAAAAAAAAAAAAAAAAERAAIQ/9oACAEBAAEFAmZZiM5fP//EABURAQEAAAAAAAAAAAAAAAAAAAAR/9oACAEDAQE/AVf/xAAVEQEBAAAAAAAAAAAAAAAAAAAAEf/aAAgBAgEBPwFH/8QAGRAAAQUAAAAAAAAAAAAAAAAAAQARICEi/9oACAEBAAY/AhlUHj//xAAdEAEAAQMFAAAAAAAAAAAAAAABMQAQESFBUWFx/9oACAEBAAE/IcKDQ9xSE33MUWoHtv/aAAwDAQACAAMAAAAQvO//xAAWEQEBAQAAAAAAAAAAAAAAAAAAEWH/2gAIAQMBAT8QuKf/xAAVEQEBAAAAAAAAAAAAAAAAAAAAEf/aAAgBAgEBPxBD/8QAHBABAAICAwEAAAAAAAAAAAAAAQARIaEQMVFh/9oACAEBAAE/EGzFqaBX37HZEgXdnuUshfGiIT//2Q==&apos;); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"public01\" title=\"public01\" src=\"/static/2002fb11a900676aefadeab0e4edab95/1c72d/public01.jpg\" srcset=\"/static/2002fb11a900676aefadeab0e4edab95/a80bd/public01.jpg 148w,\n/static/2002fb11a900676aefadeab0e4edab95/1c91a/public01.jpg 295w,\n/static/2002fb11a900676aefadeab0e4edab95/1c72d/public01.jpg 590w,\n/static/2002fb11a900676aefadeab0e4edab95/a8a14/public01.jpg 885w,\n/static/2002fb11a900676aefadeab0e4edab95/985dc/public01.jpg 1087w\" sizes=\"(max-width: 590px) 100vw, 590px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\">\n    </span>\n<p>첫번째 방법은 가장 유명한 방법입니다.</p>\n<p>A는 자신의 메세지를 B의 <em>public key</em>를 사용해서 암호화한 후 B에게 암호화한 메세지를 전달합니다. 그러면 B는 자신의 <em>private key</em>를 사용해서 암호화된 메세지를 복호화한 후 메세지를 읽습니다.</p>\n<p>즉,  B의 <em>private key</em>를 아는 사람(B)만이 이를 해독할 수 있습니다.</p>\n<h3 id=\"2-pkc-digital-signature-서명-검증-방식\" style=\"position:relative;\"><a href=\"#2-pkc-digital-signature-%EC%84%9C%EB%AA%85-%EA%B2%80%EC%A6%9D-%EB%B0%A9%EC%8B%9D\" aria-label=\"2 pkc digital signature 서명 검증 방식 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. PKC: Digital Signature (서명 검증 방식)</h3>\n<p>2번의 방법은 1번 방법보다 많이 사용하는 방식인데요. 그 이유는 1번보다 속도가 빠르기 때문입니다.</p>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;\">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 60.810810810810814%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAMABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAECBf/EABUBAQEAAAAAAAAAAAAAAAAAAAEA/9oADAMBAAIQAxAAAAHYuiGMH//EABkQAQACAwAAAAAAAAAAAAAAAAEAEhARIf/aAAgBAQABBQKyR2HZXP8A/8QAFREBAQAAAAAAAAAAAAAAAAAAARD/2gAIAQMBAT8BGf/EABURAQEAAAAAAAAAAAAAAAAAAAEQ/9oACAECAQE/AWf/xAAbEAABBAMAAAAAAAAAAAAAAAAAAQIRISAxgf/aAAgBAQAGPwKmlJPTWH//xAAYEAADAQEAAAAAAAAAAAAAAAAAARExEP/aAAgBAQABPyFtJUVzBqGtcFCCu8//2gAMAwEAAgADAAAAEJTv/8QAFxEAAwEAAAAAAAAAAAAAAAAAARARMf/aAAgBAwEBPxCGhf/EABURAQEAAAAAAAAAAAAAAAAAABAx/9oACAECAQE/EKP/xAAbEAEBAQACAwAAAAAAAAAAAAABEQAxUSFBYf/aAAgBAQABPxAJTRCQd60ZFgQ7849lfRMqjWjeckC844N//9k=&apos;); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"public02\" title=\"public02\" src=\"/static/e7097b33ca678e000b1bb7d3e0563402/1c72d/public02.jpg\" srcset=\"/static/e7097b33ca678e000b1bb7d3e0563402/a80bd/public02.jpg 148w,\n/static/e7097b33ca678e000b1bb7d3e0563402/1c91a/public02.jpg 295w,\n/static/e7097b33ca678e000b1bb7d3e0563402/1c72d/public02.jpg 590w,\n/static/e7097b33ca678e000b1bb7d3e0563402/a8a14/public02.jpg 885w,\n/static/e7097b33ca678e000b1bb7d3e0563402/259bf/public02.jpg 1106w\" sizes=\"(max-width: 590px) 100vw, 590px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\">\n    </span>\n<p>A는 자신의 <em>private key</em>로 메세지가 진짜 자신의 것이라고 인증하기 위해 sign을 합니다. 이 메세지는 B에게 전달되고 B는 A의 <em>public key</em>로 복호화하여 메세지가 진짜 A가 썻다는 것을 확인할 수 있게 되는 겁니다.</p>\n<p>많이 들어본 내용이지 않나요? 넵! 바로 공인인증서와 https 통신에서 이 방법을 사용하고 있습니다.</p>\n<h3 id=\"rsa\" style=\"position:relative;\"><a href=\"#rsa\" aria-label=\"rsa permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>RSA</h3>\n<p>RSA는 대표적인 공개키 암호로 1977년에 개발되었습니다.</p>\n<p>RSA는 큰 수를 소인수 분해(Prime Factorization Problem)하는 cost에 기반을 두고 있습니다.</p>\n<blockquote>\n<p>RSA를 이용해서 private key, public key를 만드는 과정과 얼마나 안전한지 등에 대한 내용은 넘어가도록 하겠습니다.</p>\n</blockquote>\n<h2 id=\"authentication-protocols\" style=\"position:relative;\"><a href=\"#authentication-protocols\" aria-label=\"authentication protocols permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Authentication Protocols</h2>\n<p>드디어 제가 정말 중요하다고 생각한 부분이 나왔습니다. 글을 따라가다 보면 분명히 흥미로우실 겁니다!</p>\n<h3 id=\"message-authentication\" style=\"position:relative;\"><a href=\"#message-authentication\" aria-label=\"message authentication permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Message Authentication</h3>\n<p><strong>Message Authentication</strong>은 메세지를 교환하는 두 당사자를 제 3자로 부터 보호하는 걸 의미합니다.</p>\n<p>그런데 만약에 메세지를 교환하는 두 당사자중 한명이 사기를 친다면? 굉장히 난감한 상황이 펼쳐질 겁니다. 예를 들자면, Json이 Mary에게 인증된 메세지를 보내는데, Mary가 msg를 위조할 수도 있고, Json이 Msg를 보내고는 안보냈다고 할 수 있습니다.</p>\n<p>따라서 Message Authentication은 메세지를 주고받는 서로간에 신뢰가 깨졌을때 무의미해집니다.</p>\n<h3 id=\"digital-sinature\" style=\"position:relative;\"><a href=\"#digital-sinature\" aria-label=\"digital sinature permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Digital Sinature</h3>\n<p>공개키인증방식에서는 위에서 배운 <strong>Digital Signature</strong>로 이 문제를 해결할 수 있습니다.</p>\n<ol>\n<li>메세지에 보내는 사람, 날짜, 시간을 넣어 서명을 한다.</li>\n<li>검증을 담당하는 third parties를 둔다.</li>\n</ol>\n<h3 id=\"user-authentication\" style=\"position:relative;\"><a href=\"#user-authentication\" aria-label=\"user authentication permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>User Authentication</h3>\n<p>User Authentication은 말 그대로 그 사람이 맞는지 인증하는 과정입니다.</p>\n<p>인증에는 두가지 과정이 있는데요</p>\n<ul>\n<li><strong>identification</strong> (식별) : 이 사람은 ‘kim’이다.</li>\n<li><strong>verification</strong> (검증) : 진짜 ‘kim’이 맞는지 binding하는 과정</li>\n</ul>\n<h3 id=\"replay-attacks\" style=\"position:relative;\"><a href=\"#replay-attacks\" aria-label=\"replay attacks permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Replay Attacks</h3>\n<p>Replay Attacks은 많이 일어나는 공격방법으로 valid signed message를 복사하여 나중에 사용하는 방법입니다. </p>\n<h4 id=\"공격종류\" style=\"position:relative;\"><a href=\"#%EA%B3%B5%EA%B2%A9%EC%A2%85%EB%A5%98\" aria-label=\"공격종류 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>공격종류</h4>\n<ul>\n<li>\n<p>simple replay</p>\n<ul>\n<li>메세지를 복사하여 나중에 재전송</li>\n</ul>\n</li>\n<li>\n<p>repetition that can be logged</p>\n<ul>\n<li>허용시간 범위 내에서의 재전송공격</li>\n</ul>\n</li>\n<li>\n<p>repetition the cannot be detected</p>\n<ul>\n<li>원본 메세지는 정지 된 상태이며, 재전송 공격용 메세지만 도착 (가장 감지하기 힘듬)</li>\n</ul>\n</li>\n<li>\n<p>backward replay without modification</p>\n<ul>\n<li>수정 없는 역방향 재전송, 송수신 메세지의 내용에 차이가 별로 없을 때 발생 가능</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"방어수단\" style=\"position:relative;\"><a href=\"#%EB%B0%A9%EC%96%B4%EC%88%98%EB%8B%A8\" aria-label=\"방어수단 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>방어수단</h4>\n<ul>\n<li>\n<p>use of sequece numbers</p>\n<ul>\n<li>메세지에 숫자를 기록하여 마지막 숫자를 tracking하는 방법으로 가장 simple하다.</li>\n</ul>\n</li>\n<li>\n<p>Timestamps</p>\n<ul>\n<li>메세지를 보내는 시간을 기록하여 보낸다.</li>\n<li>주고받는 당사자의 시간의 동기화가 필요하다.</li>\n</ul>\n</li>\n<li>\n<p><strong>challenge/response (using unique nonce)</strong></p>\n<ul>\n<li>메세지를 보낸 곳에 난수를 암호화하여 보낸다. 그러면 난수를 받은 곳은 복호화하여 나온 난수에 합의한 알고리즘(예, nonce++)을 통해 난수를 update한 후 다시 보낸다.</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"using-symmetric-encryption\" style=\"position:relative;\"><a href=\"#using-symmetric-encryption\" aria-label=\"using symmetric encryption permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Using Symmetric Encryption</h3>\n<p>위의 <strong>Message Authentication</strong>에서의 보안 방법으로 third party를 둔다고 하였는데요. 대칭키 암호화에서는 믿을 만한 <strong>Key Distribution Center (KDC)</strong>를 두는 것으로 메세지를 검증하는 third party를 대체합니다.</p>\n<h4 id=\"key-distrubution-center\" style=\"position:relative;\"><a href=\"#key-distrubution-center\" aria-label=\"key distrubution center permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Key Distrubution Center</h4>\n<ul>\n<li>모든 party는 KDC와 <em>master key</em>를 공유한다.</li>\n<li>KDC가 생성한 <em>session key</em>를 사용하여 parties간에 msg를 주고받는다.</li>\n<li>이때의 <em>session key</em>는 <em>master key</em>를 이용해서 만들어집니다.</li>\n</ul>\n<p>지금까지는 조금 헷갈릴 수 있습니다. 하지만 계속 읽어보면 이해하실겁니다.</p>\n<h4 id=\"session-key-발급-과정-out-of-band\" style=\"position:relative;\"><a href=\"#session-key-%EB%B0%9C%EA%B8%89-%EA%B3%BC%EC%A0%95-out-of-band\" aria-label=\"session key 발급 과정 out of band permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>session key 발급 과정 (out of band)</h4>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 331px;\">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 45.94594594594595%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAAsSAAALEgHS3X78AAAA8klEQVQoz3WRyYqEUAxF/f9/EgQ/wIUuxBEHcMZ5avV1H6wuKcS6i5Dk5eYmedLvF3RdF8dxXdfYZVkea6RbLIR42aqq+r4PgoAuaZpeT1/J4gROURSyLE/TBLNpGsJn8pV6OW3b5nmu67phGFmWlWWJ7L7vt9EeyOg4jmOaJi3IHMexbdvjaP9kjoEU7aHZtp0kCUeCc9WJDxDO80wxQ+FInGQcR6o1TcP/HGxd19uSKIVh+HPC930piiLUaMZ5VVUlZVkWU7iuy+buGwyFVRTF8zwOwQmHYZD4RlZFnDe64rAwGf6JjsMbhOShUdOdQOYPh34BoH/bs5UAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"kdc01\" title=\"kdc01\" src=\"/static/df789189d0176d02eedc4ba2582e7483/62452/kdc01.png\" srcset=\"/static/df789189d0176d02eedc4ba2582e7483/12f09/kdc01.png 148w,\n/static/df789189d0176d02eedc4ba2582e7483/e4a3f/kdc01.png 295w,\n/static/df789189d0176d02eedc4ba2582e7483/62452/kdc01.png 331w\" sizes=\"(max-width: 331px) 100vw, 331px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\">\n    </span>\n<ol>\n<li>client는 자신의 master key를 KDC에게 보냅니다.</li>\n<li>KDC는 master key를 암호화하여 생성된 session key를 client에게 보냅니다.</li>\n</ol>\n<p>이때의 session key를 통신하고자 하는 서버에게 분배하여 메세지를 주고받게 됩니다. 위에서 설명한 session key 발급과정을 <strong>out of band (키 설정 과정)</strong>라고 부릅니다.</p>\n<p>여기서 KDC로 부터 발급받는 키를 session key라고 부르는 이유는, 보안상의 이유로 session마다 key를 업데이트하기 때문에 한 session에서 사용할 수 있는 key라고 해서 session key라고 부릅니다.</p>\n<h4 id=\"session-key-분배-과정-key-distribution-protocol\" style=\"position:relative;\"><a href=\"#session-key-%EB%B6%84%EB%B0%B0-%EA%B3%BC%EC%A0%95-key-distribution-protocol\" aria-label=\"session key 분배 과정 key distribution protocol permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>session key 분배 과정 (key distribution protocol)</h4>\n<p>session key를 분배하는 과정도 쉽지만은 않습니다. session key를 분배할때 사용하는 protocol로는 <strong>Needham-Schroeder Protocol</strong>을 사용합니다.</p>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;\">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 56.75675675675676%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAIDBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAezUjVA//8QAGRAAAwADAAAAAAAAAAAAAAAAAAEREBIh/9oACAEBAAEFAmu65pT/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAUEAEAAAAAAAAAAAAAAAAAAAAg/9oACAEBAAY/Al//xAAbEAACAQUAAAAAAAAAAAAAAAAAASEQETFR8P/aAAgBAQABPyGYdkSss0TCbZ//2gAMAwEAAgADAAAAEIsP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAGxABAAICAwAAAAAAAAAAAAAAAQARIUFxgZH/2gAIAQEAAT8QK63LAbuFAHRxN+wGRrqPMx//2Q==&apos;); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"kdc03\" title=\"kdc03\" src=\"/static/d788c43aa4430cdbbaf22bbdcdde2edf/1c72d/kdc03.jpg\" srcset=\"/static/d788c43aa4430cdbbaf22bbdcdde2edf/a80bd/kdc03.jpg 148w,\n/static/d788c43aa4430cdbbaf22bbdcdde2edf/1c91a/kdc03.jpg 295w,\n/static/d788c43aa4430cdbbaf22bbdcdde2edf/1c72d/kdc03.jpg 590w,\n/static/d788c43aa4430cdbbaf22bbdcdde2edf/a8a14/kdc03.jpg 885w,\n/static/d788c43aa4430cdbbaf22bbdcdde2edf/b3430/kdc03.jpg 1122w\" sizes=\"(max-width: 590px) 100vw, 590px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\">\n    </span>\n<h4 id=\"공격방법\" style=\"position:relative;\"><a href=\"#%EA%B3%B5%EA%B2%A9%EB%B0%A9%EB%B2%95\" aria-label=\"공격방법 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>공격방법</h4>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;\">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 45.27027027027027%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAJABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAMCBAX/xAAWAQEBAQAAAAAAAAAAAAAAAAAAAQT/2gAMAwEAAhADEAAAAdmSTPbAoP/EABcQAQADAAAAAAAAAAAAAAAAABEAICH/2gAIAQEAAQUCdY0//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFxEAAwEAAAAAAAAAAAAAAAAAAAESAv/aAAgBAgEBPwG9Fs//xAAUEAEAAAAAAAAAAAAAAAAAAAAg/9oACAEBAAY/Al//xAAaEAACAgMAAAAAAAAAAAAAAAAAARARMWFx/9oACAEBAAE/IXfA0tC6HP8A/9oADAMBAAIAAwAAABA4D//EABYRAAMAAAAAAAAAAAAAAAAAAAABEf/aAAgBAwEBPxCIiP/EABURAQEAAAAAAAAAAAAAAAAAAABh/9oACAECAQE/ELLv/8QAHBAAAgICAwAAAAAAAAAAAAAAAAERITFxQVFh/9oACAEBAAE/ELKUT2TbpoaZCrk/UZPYsnCP/9k=&apos;); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"kdc02\" title=\"kdc02\" src=\"/static/13bc93f52279132bb0f689b217f83c3c/1c72d/kdc02.jpg\" srcset=\"/static/13bc93f52279132bb0f689b217f83c3c/a80bd/kdc02.jpg 148w,\n/static/13bc93f52279132bb0f689b217f83c3c/1c91a/kdc02.jpg 295w,\n/static/13bc93f52279132bb0f689b217f83c3c/1c72d/kdc02.jpg 590w,\n/static/13bc93f52279132bb0f689b217f83c3c/a8a14/kdc02.jpg 885w,\n/static/13bc93f52279132bb0f689b217f83c3c/9888c/kdc02.jpg 1142w\" sizes=\"(max-width: 590px) 100vw, 590px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\">\n    </span>\n<p>그런데 4 &#x26; 5 단계에서 이 protocol도 replay attack을 당하기 쉽습니다. 밑에 설명된 것처럼 공격자가 이전에 받은 Ks를 나중에 재사용할 수 있기 때문입니다. </p>\n<h4 id=\"방어수단-1\" style=\"position:relative;\"><a href=\"#%EB%B0%A9%EC%96%B4%EC%88%98%EB%8B%A8-1\" aria-label=\"방어수단 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>방어수단</h4>\n<ul>\n<li>Adding timestamps</li>\n<li>\n<p>using an extra nonce</p>\n<ul>\n<li>위에서 설명한 것 같이 자신이 보낸 것이라는 것을 입증하는 nonce를 보내고 그걸 update해서 다시 보내는 방식으로 msg를 verify합니다.</li>\n</ul>\n</li>\n</ul>","frontmatter":{"title":"디지털 서명 및 인증 프로토콜","date":"September 10, 2019"}}},"pageContext":{"slug":"/security/디지털-서명-및-인증-프로토콜/","previous":{"fields":{"slug":"/javascript/javascript-engin-fundamentals/"},"frontmatter":{"title":"JavaScript engine fundamentals","category":"javascript"}},"next":{"fields":{"slug":"/algorithm/sorting-algorithm/"},"frontmatter":{"title":"Sorting Algorithm","category":"algorithm"}}}}}